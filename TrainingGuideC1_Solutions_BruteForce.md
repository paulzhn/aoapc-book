#《算法竞赛入门经典——训练指南》第一章问题求解策略类习题题解

提示：以下题解可以用于任何非盈利用途，但请注明出处，一是尊重作者的劳动，二是让更多的人知道这个题解的存在，大家共同维护 :)

如果你想contribute的话，直接以留言或者email的形式把题解发给我们，或者先写一篇长长的blog，再告知链接 :)

## UVA10123 没有倾斜(No Tipping) ##

[题目大意]

你在杠杆的力臂上放个物体，它就会对支点产生扭力。这被称为扭矩，等于物体的重量乘以它到支点的距离(现在我们不考虑角度)。如果物体是在支点左面，扭矩的方向就是逆时针的；如果物体是在右边，方向就是顺时针的。要计算一个支点的扭矩，就把杠杆上所有物体的扭矩加起来。
需要在保持杠杆平衡的同时来调整上面的物体。假设你有一个平直的质量均匀的平板，20米长，上面有三个砝码。平板的中心就是质心，我们称之为位置0。所以平板上可用的位置就是-10(左端)到10(右端)。平白是由在-1.5和+1.5的两个同样的支点来支撑，都是两米高并且放在一个平地板上。平板上有六个物体，位置分别为-8, -4, -3, 2, 5 和 8，质量分别是4, 10, 10, 4, 7,8克。
每次移掉一个物体，并且让平板始终保持平衡。如果左边支点的净扭矩(通过所有快和平板自身的质量计算出来)是逆时针的，或者右边支点的净扭矩是顺时针的，平板就会倾斜。一个可行的解决方案就是，首先移掉-4位置上的块儿，接着是8，-8，-8,5,-3,最后是2。
写个程序解决上述问题。

[分析]

(by 陈锋)

每次去掉一个然后DFS，在DFS的入口处判断是否平衡(一开始就可以判断)，这样应该能剪掉大部分(这个剪多少不好估计)。而且DFS之前把所有点的对左右两边扭矩都计算好(输入的时候就可以了)。扭矩的和也尽量在递归层次中传递，以免重复计算。另外，输入的质量最好都乘10，以免浮点运算的不确定性。
四个砝码ABCD，你枚举了先A后B，或者先B后A，但这两种情况实际上对应相同的后继状态（还剩CD）换句话说，这是一个以"砝码集合"为结点的图，你在DFS的时候没判重。

关键优化：把砝码集合映射到一个整数(<20的长度整好)，然后用一个整数数组来用来判重。

## UVA11236 食品杂货店(Grocery store) ##

[题目大意]

求出所有四件商品的价格组合，四个价格的和等于它们的乘积。价格是以欧元为单位，每件商品的最低价格是1分钱。所以每个价格的小数点后最多有两位小数。

[分析]

(by 陈锋)

这里有了a,b,c之后就计算出d的值，并且把a, b, c, d都放大100倍来避免整数输出。先用效率最低的方法算出a, b, c的范围，后将其用于程序剪枝。