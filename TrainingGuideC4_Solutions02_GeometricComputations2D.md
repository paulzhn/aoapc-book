#《算法竞赛入门经典——训练指南》第四章 二维几何计算 习题简要题解

提示：以下题解可以用于任何非盈利用途，但请注明出处，一是尊重作者的劳动，二是让更多的人知道这个题解的存在，大家共同维护 :)

如果你想contribute的话，直接以留言或者email的形式把题解发给我们，或者先写一篇长长的blog，再告知链接 :)

## UVa10075 航线(Airlines) ##

[题目大意]

给出地球上的n个城市，以及m条城市之间的直飞航线。对于任意的两个城市，求出他们之间的最短航线距离，两个城市之间的航线距离指的是在球面上的最短的弧的长度。

[分析]

(by 陈锋)

首先，需要计算出每个城市之间的球面距离。然后把每个城市看作一个点，航线看作有向边，这样构成一个有向图。用Floyd-Warshall算法求出任意两点之间的最短距离（参见入门经典P206）即可。

需要注意的是，此题要求的距离是四舍五入之后的距离。

## UVa10556 生物统计学(Biometrics) ##

[题目大意]

给出两个多边形，你需要确定这两个多边形是否相似。

[分析]

(by 陈锋)

可以一一判断顶点v，看看对应的顶点v以及在v连接起来的相邻边组成的三角形是否相似。可以用三个条件来约束：
  1. v对应的内角的sin值，可用三角形的有向面积判断
  1. v对应的内角cos值，可用内积除以两边的长度判断
  1. v对应两条边比例必须相同。

## UVa10585 对称中心(Center of Symmetry) ##

[题目大意]

给出n个点的点集，你需要判断这个点集是否有一个对称中心S，S可以不包含在点集中。

[分析]

(by 陈锋)

如果S存在，那么S.y一定是点集中y的最大值和最小值的平均值，S.x同理。这样遍历点集中的每个点p，看看p关于s的对称点q是不是也在点集中，如果有一个p的对称点q不在点集中，那么说明点S不存在。

值得一提的是，输入的点可以将x,y坐标都乘以2，然后统统使用整数运算，这样可以避免浮点数运算可能带来的误差。

## UVa10969 美梦(Sweet Dream) ##

[题目大意]

在平面上依次放置n（n<=100）个圆（后放的覆盖先放的）。求圆周上的可见弧长之和。

![http://uva.onlinejudge.org/external/109/p10969a.gif](http://uva.onlinejudge.org/external/109/p10969a.gif)

[分析]

(by 陈锋)

可以先求出所有小圆弧，然后判断每段小圆弧是否可见，再把所有可见的小圆弧的长度加起来即是所求结果。

如何求出所有小圆弧？所有圆两两求交点，则每个圆上任两个相邻交点之间的圆弧就是所求。需要注意的是，如果一个圆不和其他所有圆相交，则整个圆是一条所求圆弧。另外，如果这个小圆弧的中点没有被编号大于其所在圆的其它圆覆盖，这个小圆弧即是可见的。

## UVa11928 忙碌的狗(The Busy Dog) ##

[题目大意]

有一个杆子，拴了一条狗Rex，Rex会到处走来走去并且导致拴狗的绳子缠到杆子上去。给出狗行走的路径，计算出这个绳子绕着杆子缠了几圈儿？

[分析]

(by 陈锋)

使用和训练指南4.3.1中转角法相似的逻辑，把狗的路径看作一个多边形，然后把x轴看作转角法中的向右的射线；狗逆时针经过x轴则绕数+1, 顺时针经过绕数-1，则最后求出的wn即是所求的结果。可以参考下图做一个直观的理解：

![http://upload.wikimedia.org/wikipedia/commons/a/ac/Winding_Number_Animation_Small.gif](http://upload.wikimedia.org/wikipedia/commons/a/ac/Winding_Number_Animation_Small.gif)